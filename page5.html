
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cozynotes - Your Cozy Note-Taking App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #8b5fbf;
            --secondary: #9ec1cf;
            --accent: #ff6b6b;
            --background: #f5f7fa;
            --text: #333;
            --card-bg: #ffffff;
            --shadow: rgba(0, 0, 0, 0.1);
            --sidebar-width: 250px;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 2px solid var(--shadow);
            margin-bottom: 30px;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }

        .logo h1 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .theme-selector {
            display: flex;
            gap: 10px;
            align-items: center;
            transition: all 0.3s ease;
        }

        .theme-selector.collapsed {
            transform: translateX(calc(100% - 40px));
            overflow: hidden;
        }

        .theme-toggle {
            background-color: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 3px 10px var(--shadow);
        }

        .theme-buttons {
            display: flex;
            gap: 10px;
            background: var(--card-bg);
            padding: 8px 12px;
            border-radius: 30px;
            box-shadow: 0 3px 10px var(--shadow);
        }

        .theme-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid var(--card-bg);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }

        .theme-btn.active {
            border: 2px solid var(--text);
        }

        .theme-purple { background: linear-gradient(45deg, #8b5fbf, #6a3093); }
        .theme-blue { background: linear-gradient(45deg, #9ec1cf, #6495ed); }
        .theme-green { background: linear-gradient(45deg, #a1de93, #45a247); }
        .theme-orange { background: linear-gradient(45deg, #ffb347, #ffcc33); }
        .theme-pink { background: linear-gradient(45deg, #ff9a9e, #fad0c4); }

        .main-content {
            display: flex;
            gap: 30px;
        }

        .sidebar {
            flex: 0 0 var(--sidebar-width);
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            display: flex;
            flex-direction: column;
        }

        .pages-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .pages-list {
            list-style: none;
            flex-grow: 1;
            overflow-y: auto;
            max-height: 400px;
            margin-bottom: 15px;
        }

        .page-item {
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
            position: relative;
        }

        .page-item:hover {
            background-color: var(--secondary);
            color: white;
        }

        .page-item.active {
            background-color: var(--primary);
            color: white;
        }

        .page-item i {
            opacity: 0.7;
        }

        .page-item .delete-page {
            display: none;
            position: absolute;
            right: 10px;
            color: var(--accent);
            background: rgba(255, 255, 255, 0.3);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page-item:hover .delete-page {
            display: flex;
        }

        .add-page-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin-top: auto;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .add-page-btn:hover {
            background-color: var(--accent);
        }

        .notes-area {
            flex: 1;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            display: flex;
            flex-direction: column;
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--shadow);
        }

        .note-title-area {
            flex: 1;
        }

        .note-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            border: none;
            background: transparent;
            width: 100%;
            padding: 5px;
            margin-bottom: 5px;
        }

        .note-title:focus {
            outline: none;
            background-color: rgba(139, 95, 191, 0.1);
            border-radius: 5px;
        }

        .note-subject {
            font-size: 1.2rem;
            color: var(--secondary);
            border: none;
            background: transparent;
            width: 100%;
            padding: 5px;
        }

        .note-subject:focus {
            outline: none;
            background-color: rgba(158, 193, 207, 0.1);
            border-radius: 5px;
        }

        .note-date {
            font-size: 0.9rem;
            color: #888;
            margin-top: 5px;
        }

        .note-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex: 1;
            overflow-y: auto;
        }

        .short-note {
            border: none;
            background-color: rgba(158, 193, 207, 0.1);
            padding: 15px;
            border-radius: 8px;
            resize: none;
            min-height: 80px;
        }

        .short-note:focus {
            outline: 2px solid var(--secondary);
        }

        .long-note {
            border: none;
            background-color: rgba(139, 95, 191, 0.05);
            padding: 15px;
            border-radius: 8px;
            resize: none;
            min-height: 200px;
            flex: 1;
        }

        .long-note:focus {
            outline: 2px solid var(--primary);
        }

        .image-section {
            margin-top: 20px;
        }

        .image-upload {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .upload-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: inline-block;
            width: fit-content;
        }

        .upload-btn:hover {
            background-color: var(--primary);
        }

        #imageInput {
            display: none;
        }

        .uploaded-images {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }

        .image-container {
            position: relative;
            max-width: 200px;
        }

        .uploaded-image {
            max-width: 100%;
            max-height: 150px;
            border-radius: 8px;
            border: 1px solid var(--shadow);
        }

        .delete-image {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--accent);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .action-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }

        .save-btn, .delete-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .save-btn {
            background-color: var(--primary);
            color: white;
        }

        .save-btn:hover {
            background-color: #7a4da6;
        }

        .delete-btn {
            background-color: var(--accent);
            color: white;
        }

        .delete-btn:hover {
            background-color: #ff5252;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--primary);
            font-weight: 500;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            flex: 1;
            color: #888;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                flex: 1;
            }
            
            .theme-selector {
                position: absolute;
                right: 0;
                top: 100%;
                margin-top: 10px;
                z-index: 100;
            }
            
            .theme-selector.collapsed {
                transform: translateX(calc(100% - 40px));
            }
            
            .theme-buttons {
                flex-wrap: wrap;
                justify-content: center;
                max-width: 180px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-book"></i>
                <h1>Cozynotes</h1>
            </div>
            <div class="theme-selector">
                <div class="theme-toggle">
                    <i class="fas fa-palette"></i>
                </div>
                <div class="theme-buttons">
                    <div class="theme-btn theme-purple active" data-theme="purple"></div>
                    <div class="theme-btn theme-blue" data-theme="blue"></div>
                    <div class="theme-btn theme-green" data-theme="green"></div>
                    <div class="theme-btn theme-orange" data-theme="orange"></div>
                    <div class="theme-btn theme-pink" data-theme="pink"></div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="pages-header">
                    <h2>Your Pages</h2>
                    <span class="pages-count">0 pages</span>
                </div>
                <ul class="pages-list">
                    <!-- Pages will be added here dynamically -->
                </ul>
                <button class="add-page-btn">+ New Page</button>
            </div>

            <div class="notes-area">
                <div class="note-header">
                    <div class="note-title-area">
                        <input type="text" class="note-title" placeholder="Note Title">
                        <input type="text" class="note-subject" placeholder="Subject">
                        <div class="note-date">Created: <span class="date-created">-</span> | Updated: <span class="date-updated">-</span></div>
                    </div>
                </div>

                <div class="note-content">
                    <textarea class="short-note" placeholder="Short description..."></textarea>
                    
                    <textarea class="long-note" placeholder="Write your detailed notes here..."></textarea>
                    
                    <div class="image-section">
                        <div class="image-upload">
                            <label for="imageInput" class="upload-btn">
                                <i class="fas fa-image"></i> Upload Image
                            </label>
                            <input type="file" id="imageInput" accept="image/*" multiple>
                            <div class="uploaded-images">
                                <!-- Images will be added here dynamically -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="delete-btn">Delete Note</button>
                    <button class="save-btn">Save Note</button>
                </div>
            </div>
        </div>

        <footer>
            <p>Cozynotes &copy; 2023 | Your cozy companion for note-taking</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the app
            initApp();
            
            function initApp() {
                // Theme switching functionality
                setupThemeSelector();
                
                // Page management functionality
                setupPageManagement();
                
                // Note editing functionality
                setupNoteEditing();
                
                // Load data from localStorage
                loadFromLocalStorage();
            }
            
            function setupThemeSelector() {
                const themeSelector = document.querySelector('.theme-selector');
                const themeToggle = document.querySelector('.theme-toggle');
                const themeButtons = document.querySelectorAll('.theme-btn');
                const root = document.documentElement;
                
                // Toggle theme selector collapse
                themeToggle.addEventListener('click', function() {
                    themeSelector.classList.toggle('collapsed');
                });
                
                // Handle theme selection
                themeButtons.forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const theme = this.getAttribute('data-theme');
                        
                        // Remove active class from all buttons
                        themeButtons.forEach(b => b.classList.remove('active'));
                        // Add active class to clicked button
                        this.classList.add('active');
                        
                        // Change CSS variables based on theme
                        switch(theme) {
                            case 'purple':
                                root.style.setProperty('--primary', '#8b5fbf');
                                root.style.setProperty('--secondary', '#9ec1cf');
                                root.style.setProperty('--accent', '#ff6b6b');
                                break;
                            case 'blue':
                                root.style.setProperty('--primary', '#4a6fa5');
                                root.style.setProperty('--secondary', '#6b9ac4');
                                root.style.setProperty('--accent', '#5c80bc');
                                break;
                            case 'green':
                                root.style.setProperty('--primary', '#5c8d89');
                                root.style.setProperty('--secondary', '#74b49b');
                                root.style.setProperty('--accent', '#a7d7c5');
                                break;
                            case 'orange':
                                root.style.setProperty('--primary', '#ff9a76');
                                root.style.setProperty('--secondary', '#ffbba9');
                                root.style.setProperty('--accent', '#ff6b6b');
                                break;
                            case 'pink':
                                root.style.setProperty('--primary', '#ff9c9c');
                                root.style.setProperty('--secondary', '#ffc8c8');
                                root.style.setProperty('--accent', '#ff7c7c');
                                break;
                        }
                        
                        // Save theme preference
                        localStorage.setItem('cozynotes_theme', theme);
                        
                        // Collapse the theme selector after selection
                        themeSelector.classList.add('collapsed');
                    });
                });
                
                // Load saved theme
                const savedTheme = localStorage.getItem('cozynotes_theme') || 'purple';
                document.querySelector(`.theme-btn[data-theme="${savedTheme}"]`).click();
            }
            
            function setupPageManagement() {
                const pagesList = document.querySelector('.pages-list');
                const addPageBtn = document.querySelector('.add-page-btn');
                const pagesCount = document.querySelector('.pages-count');
                
                // Add new page
                addPageBtn.addEventListener('click', function() {
                    const pageName = prompt('Enter a name for your new page:');
                    if (pageName && pageName.trim() !== '') {
                        addPage(pageName.trim());
                    }
                });
                
                // Function to add a page
                function addPage(name) {
                    const pageId = 'page_' + Date.now();
                    const pageItem = document.createElement('li');
                    pageItem.className = 'page-item';
                    pageItem.setAttribute('data-id', pageId);
                    pageItem.innerHTML = `
                        <span>${name}</span>
                        <div class="delete-page"><i class="fas fa-times"></i></div>
                    `;
                    
                    // Add click event to select the page
                    pageItem.addEventListener('click', function(e) {
                        if (!e.target.closest('.delete-page')) {
                            selectPage(pageId);
                        }
                    });
                    
                    // Add delete functionality
                    const deleteBtn = pageItem.querySelector('.delete-page');
                    deleteBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        deletePage(pageId);
                    });
                    
                    pagesList.appendChild(pageItem);
                    updatePagesCount();
                    
                    // Select the new page
                    selectPage(pageId);
                    
                    // Save to localStorage
                    savePagesToLocalStorage();
                }
                
                // Function to select a page
                function selectPage(pageId) {
                    // Remove active class from all pages
                    document.querySelectorAll('.page-item').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // Add active class to selected page
                    const selectedPage = document.querySelector(`.page-item[data-id="${pageId}"]`);
                    if (selectedPage) {
                        selectedPage.classList.add('active');
                        
                        // Load page content
                        loadPageContent(pageId);
                    }
                }
                
                // Function to delete a page
                function deletePage(pageId) {
                    if (confirm('Are you sure you want to delete this page and all its notes?')) {
                        const pageItem = document.querySelector(`.page-item[data-id="${pageId}"]`);
                        if (pageItem) {
                            pageItem.remove();
                            updatePagesCount();
                            
                            // Remove from localStorage
                            const pages = getPagesFromLocalStorage();
                            delete pages[pageId];
                            localStorage.setItem('cozynotes_pages', JSON.stringify(pages));
                            
                            // Select another page if available
                            const remainingPages = document.querySelectorAll('.page-item');
                            if (remainingPages.length > 0) {
                                selectPage(remainingPages[0].getAttribute('data-id'));
                            } else {
                                // Clear note area if no pages left
                                clearNoteArea();
                            }
                        }
                    }
                }
                
                // Update pages count
                function updatePagesCount() {
                    const count = document.querySelectorAll('.page-item').length;
                    pagesCount.textContent = `${count} ${count === 1 ? 'page' : 'pages'}`;
                }
                
                // Clear note area
                function clearNoteArea() {
                    document.querySelector('.note-title').value = '';
                    document.querySelector('.note-subject').value = '';
                    document.querySelector('.short-note').value = '';
                    document.querySelector('.long-note').value = '';
                    document.querySelector('.uploaded-images').innerHTML = '';
                    document.querySelector('.date-created').textContent = '-';
                    document.querySelector('.date-updated').textContent = '-';
                }
            }
            
            function setupNoteEditing() {
                const imageInput = document.getElementById('imageInput');
                const uploadedImagesContainer = document.querySelector('.uploaded-images');
                const saveBtn = document.querySelector('.save-btn');
                const deleteBtn = document.querySelector('.delete-btn');
                
                // Image upload functionality
                imageInput.addEventListener('change', function() {
                    const files = this.files;
                    if (files && files.length > 0) {
                        Array.from(files).forEach(file => {
                            if (file.type.startsWith('image/')) {
                                const reader = new FileReader();
                                
                                reader.addEventListener('load', function() {
                                    addImageToContainer(reader.result);
                                });
                                
                                reader.readAsDataURL(file);
                            }
                        });
                        
                        // Reset the input to allow uploading the same image again
                        this.value = '';
                    }
                });
                
                // Function to add an image to the container
                function addImageToContainer(src) {
                    const imageId = 'img_' + Date.now();
                    const imageContainer = document.createElement('div');
                    imageContainer.className = 'image-container';
                    imageContainer.innerHTML = `
                        <img src="${src}" class="uploaded-image" alt="Uploaded Image">
                        <div class="delete-image" data-id="${imageId}"><i class="fas fa-times"></i></div>
                    `;
                    
                    // Add delete functionality
                    const deleteBtn = imageContainer.querySelector('.delete-image');
                    deleteBtn.addEventListener('click', function() {
                        imageContainer.remove();
                    });
                    
                    uploadedImagesContainer.appendChild(imageContainer);
                }
                
                // Save note functionality
                saveBtn.addEventListener('click', function() {
                    const activePage = document.querySelector('.page-item.active');
                    if (!activePage) {
                        alert('Please create a page first!');
                        return;
                    }
                    
                    // Get all note data
                    const title = document.querySelector('.note-title').value;
                    const subject = document.querySelector('.note-subject').value;
                    const shortNote = document.querySelector('.short-note').value;
                    const longNote = document.querySelector('.long-note').value;
                    
                    // Get images
                    const images = [];
                    document.querySelectorAll('.uploaded-image').forEach(img => {
                        images.push(img.src);
                    });
                    
                    // Create note object
                    const note = {
                        title,
                        subject,
                        shortNote,
                        longNote,
                        images,
                        createdAt: document.querySelector('.date-created').textContent,
                        updatedAt: new Date().toLocaleString()
                    };
                    
                    // Save to localStorage
                    saveNoteToPage(activePage.getAttribute('data-id'), note);
                    
                    // Update the updated date display
                    document.querySelector('.date-updated').textContent = note.updatedAt;
                    
                    alert(`Note "${title}" saved successfully!`);
                });
                
                // Delete note functionality
                deleteBtn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to delete this note?')) {
                        clearNoteArea();
                    }
                });
            }
            
            function saveNoteToPage(pageId, note) {
                const pages = getPagesFromLocalStorage();
                if (!pages[pageId]) {
                    pages[pageId] = { notes: [] };
                }
                
                // For simplicity, we'll just store one note per page
                pages[pageId].currentNote = note;
                
                localStorage.setItem('cozynotes_pages', JSON.stringify(pages));
            }
            
            function getPagesFromLocalStorage() {
                return JSON.parse(localStorage.getItem('cozynotes_pages') || '{}');
            }
            
            function savePagesToLocalStorage() {
                const pages = {};
                document.querySelectorAll('.page-item').forEach(page => {
                    const pageId = page.getAttribute('data-id');
                    const pageName = page.querySelector('span').textContent;
                    pages[pageId] = { name: pageName };
                });
                
                localStorage.setItem('cozynotes_pages', JSON.stringify(pages));
            }
            
            function loadPageContent(pageId) {
                const pages = getPagesFromLocalStorage();
                const page = pages[pageId];
                
                if (page && page.currentNote) {
                    const note = page.currentNote;
                    document.querySelector('.note-title').value = note.title || '';
                    document.querySelector('.note-subject').value = note.subject || '';
                    document.querySelector('.short-note').value = note.shortNote || '';
                    document.querySelector('.long-note').value = note.longNote || '';
                    document.querySelector('.date-created').textContent = note.createdAt || new Date().toLocaleString();
                    document.querySelector('.date-updated').textContent = note.updatedAt || '-';
                    
                    // Load images
                    const uploadedImagesContainer = document.querySelector('.uploaded-images');
                    uploadedImagesContainer.innerHTML = '';
                    
                    if (note.images && note.images.length > 0) {
                        note.images.forEach(src => {
                            addImageToContainer(src);
                        });
                    }
                } else {
                    // New empty note
                    clearNoteArea();
                    document.querySelector('.date-created').textContent = new Date().toLocaleString();
                    document.querySelector('.date-updated').textContent = '-';
                }
            }
            
            function loadFromLocalStorage() {
                // Load pages
                const pages = getPagesFromLocalStorage();
                const pagesList = document.querySelector('.pages-list');
                
                if (Object.keys(pages).length === 0) {
                    // Add a default page if none exist
                    addPage('General Notes');
                } else {
                    // Recreate pages from localStorage
                    for (const [pageId, pageData] of Object.entries(pages)) {
                        const pageItem = document.createElement('li');
                        pageItem.className = 'page-item';
                        pageItem.setAttribute('data-id', pageId);
                        pageItem.innerHTML = `
                            <span>${pageData.name}</span>
                            <div class="delete-page"><i class="fas fa-times"></i></div>
                        `;
                        
                        // Add click event to select the page
                        pageItem.addEventListener('click', function(e) {
                            if (!e.target.closest('.delete-page')) {
                                selectPage(pageId);
                            }
                        });
                        
                        // Add delete functionality
                        const deleteBtn = pageItem.querySelector('.delete-page');
                        deleteBtn.addEventListener('click', function(e) {
                            e.stopPropagation();
                            deletePage(pageId);
                        });
                        
                        pagesList.appendChild(pageItem);
                    }
                    
                    // Select the first page
                    const firstPageId = Object.keys(pages)[0];
                    selectPage(firstPageId);
                }
                
                updatePagesCount();
            }
        });
    </script>
</body>
</html>
