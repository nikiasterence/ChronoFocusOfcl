<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formula Station - Your Math Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            transition: background 0.5s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #12c2e9, #c471ed, #f64f59);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .tagline {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 20px;
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
            height: fit-content;
        }

        .formula-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        h2 {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section-list {
            list-style: none;
        }

        .section-list li {
            margin-bottom: 10px;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .section-list li:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .section-list li.active {
            background: rgba(100, 149, 237, 0.3);
            border-left: 4px solid #6495ed;
        }

        .formula-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .formula-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .formula-card:hover {
            transform: translateY(-5px);
        }

        .formula-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #6495ed;
        }

        .formula-content {
            font-size: 1.5rem;
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            font-family: 'Cambria Math', serif;
            flex-grow: 1;
        }

        .formula-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 15px;
            margin-top: 10px;
        }

        .delete-btn {
            background: rgba(220, 20, 60, 0.3);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            width: 100%;
        }

        .delete-btn:hover {
            background: rgba(220, 20, 60, 0.5);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 10px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #12c2e9, #c471ed);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: rgba(19, 28, 46, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: white;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1rem;
        }

        .submit-btn {
            background: linear-gradient(45deg, #12c2e9, #c471ed);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .settings-panel {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .color-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .color-option {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color1 { background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); }
        .color2 { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); }
        .color3 { background: linear-gradient(135deg, #ffecd2, #fcb69f); }
        .color4 { background: linear-gradient(135deg, #84fab0, #8fd3f4); }
        .color5 { background: linear-gradient(135deg, #d4fc79, #96e6a1); }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .formula-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-square-root-alt"></i> Formula Station</h1>
            <p class="tagline">Your hub for mathematical formulas and equations</p>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h2>Categories</h2>
                <ul class="section-list">
                    <li data-category="algebra">Algebra</li>
                    <li data-category="geometry">Geometry</li>
                    <li data-category="calculus">Calculus</li>
                    <li data-category="trigonometry" class="active">Trigonometry</li>
                    <li data-category="statistics">Statistics</li>
                    <li data-category="probability">Probability</li>
                </ul>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="addFormulaBtn">
                        <i class="fas fa-plus"></i> Add Formula
                    </button>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" id="settingsBtn">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>

            <div class="formula-container">
                <!-- Algebra Section -->
                <div class="formula-section" id="algebra" style="display:none;">
                    <h2>Algebra Formulas</h2>
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h3 class="formula-title">Quadratic Formula</h3>
                            <div class="formula-content">x = [-b &plusmn; &radic;(b&sup2; - 4ac)] / 2a</div>
                            <p class="formula-desc">Solves for the roots of a quadratic equation ax&sup2; + bx + c = 0.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Difference of Squares</h3>
                            <div class="formula-content">a&sup2; &minus; b&sup2; = (a &minus; b)(a + b)</div>
                            <p class="formula-desc">A squared number subtracted from another squared number.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Sum of Cubes</h3>
                            <div class="formula-content">a&sup3; + b&sup3; = (a + b)(a&sup2; - ab + b&sup2;)</div>
                            <p class="formula-desc">The sum of two terms each raised to the power of three.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Difference of Cubes</h3>
                            <div class="formula-content">a&sup3; - b&sup3; = (a - b)(a&sup2; + ab + b&sup2;)</div>
                            <p class="formula-desc">The difference between two terms each raised to the power of three.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Binomial Theorem</h3>
                            <div class="formula-content">(x + y)ⁿ = &Sigma; [n!/k!(n-k)!] x^(n-k) y^k</div>
                            <p class="formula-desc">Describes the algebraic expansion of powers of a binomial.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Logarithm Product Rule</h3>
                            <div class="formula-content">log<sub>b</sub>(xy) = log<sub>b</sub>(x) + log<sub>b</sub>(y)</div>
                            <p class="formula-desc">The logarithm of a product is the sum of the logarithms.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Logarithm Quotient Rule</h3>
                            <div class="formula-content">log<sub>b</sub>(x/y) = log<sub>b</sub>(x) - log<sub>b</sub>(y)</div>
                            <p class="formula-desc">The logarithm of a quotient is the difference of the logarithms.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Logarithm Power Rule</h3>
                            <div class="formula-content">log<sub>b</sub>(x^y) = y log<sub>b</sub>(x)</div>
                            <p class="formula-desc">The logarithm of a number raised to a power is the power times the logarithm.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Arithmetic Sequence</h3>
                            <div class="formula-content">a<sub>n</sub> = a<sub>1</sub> + (n-1)d</div>
                            <p class="formula-desc">Finds the nth term of an arithmetic sequence.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Geometric Sequence</h3>
                            <div class="formula-content">a<sub>n</sub> = a<sub>1</sub> * r^(n-1)</div>
                            <p class="formula-desc">Finds the nth term of a geometric sequence.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Distance Formula</h3>
                            <div class="formula-content">d = &radic;[(x₂-x₁)&sup2; + (y₂-y₁)&sup2;]</div>
                            <p class="formula-desc">Calculates the distance between two points in a Cartesian plane.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Slope of a Line</h3>
                            <div class="formula-content">m = (y₂ - y₁) / (x₂ - x₁)</div>
                            <p class="formula-desc">Measures the steepness of a line connecting two points.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>

                <!-- Geometry Section -->
                <div class="formula-section" id="geometry" style="display:none;">
                    <h2>Geometry Formulas</h2>
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h3 class="formula-title">Area of a Circle</h3>
                            <div class="formula-content">A = &pi;r&sup2;</div>
                            <p class="formula-desc">The space enclosed within a circle.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Circumference of a Circle</h3>
                            <div class="formula-content">C = 2&pi;r</div>
                            <p class="formula-desc">The distance around the edge of a circle.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Area of a Triangle</h3>
                            <div class="formula-content">A = &frac12;bh</div>
                            <p class="formula-desc">Calculated with base (b) and height (h).</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Heron's Formula</h3>
                            <div class="formula-content">A = &radic;[s(s-a)(s-b)(s-c)]</div>
                            <p class="formula-desc">Area of a triangle when side lengths a, b, c are known. s is the semi-perimeter.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Area of a Rectangle</h3>
                            <div class="formula-content">A = l &times; w</div>
                            <p class="formula-desc">Calculated with length (l) and width (w).</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Pythagorean Theorem</h3>
                            <div class="formula-content">a&sup2; + b&sup2; = c&sup2;</div>
                            <p class="formula-desc">Relates the sides of a right-angled triangle.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Volume of a Sphere</h3>
                            <div class="formula-content">V = (4/3)&pi;r&sup3;</div>
                            <p class="formula-desc">The amount of space occupied by a sphere.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Surface Area of a Sphere</h3>
                            <div class="formula-content">A = 4&pi;r&sup2;</div>
                            <p class="formula-desc">The total area of the surface of a sphere.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Volume of a Cylinder</h3>
                            <div class="formula-content">V = &pi;r&sup2;h</div>
                            <p class="formula-desc">The amount of space inside a cylinder.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Volume of a Cone</h3>
                            <div class="formula-content">V = (1/3)&pi;r&sup2;h</div>
                            <p class="formula-desc">The amount of space inside a cone.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Volume of a Pyramid</h3>
                            <div class="formula-content">V = (1/3) &times; base area &times; h</div>
                            <p class="formula-desc">The amount of space inside a pyramid.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Euler's Formula for Polyhedra</h3>
                            <div class="formula-content">V - E + F = 2</div>
                            <p class="formula-desc">Vertices (V), Edges (E), and Faces (F) relationship for polyhedra.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>

                <!-- Calculus Section -->
                <div class="formula-section" id="calculus" style="display:none;">
                    <h2>Calculus Formulas</h2>
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h3 class="formula-title">Limit Definition of a Derivative</h3>
                            <div class="formula-content">f'(x) = lim┬(h&rarr;0)⁡[f(x+h)-f(x)]/h</div>
                            <p class="formula-desc">Defines the derivative as the limit of the difference quotient.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Power Rule (Differentiation)</h3>
                            <div class="formula-content">d/dx(xⁿ) = nxⁿ⁻¹</div>
                            <p class="formula-desc">A fundamental rule for differentiating polynomials.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Product Rule (Differentiation)</h3>
                            <div class="formula-content">(fg)' = f'g + fg'</div>
                            <p class="formula-desc">Rule for differentiating the product of two functions.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Quotient Rule (Differentiation)</h3>
                            <div class="formula-content">(f/g)' = [f'g - fg']/g&sup2;</div>
                            <p class="formula-desc">Rule for differentiating the ratio of two functions.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Chain Rule (Differentiation)</h3>
                            <div class="formula-content">[f(g(x))]' = f'(g(x))g'(x)</div>
                            <p class="formula-desc">For differentiating composite functions.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Fundamental Theorem of Calculus</h3>
                            <div class="formula-content">&int;ₐᵇ f(x)dx = F(b) - F(a)</div>
                            <p class="formula-desc">Connects differentiation and integration, where F'(x) = f(x).</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Integration by Parts</h3>
                            <div class="formula-content">&int;udv = uv - &int;vdu</div>
                            <p class="formula-desc">A technique for integrating products of functions.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Derivative of e^x</h3>
                            <div class="formula-content">d/dx(e^x) = e^x</div>
                            <p class="formula-desc">The exponential function is its own derivative.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Integral of 1/x</h3>
                            <div class="formula-content">&int;(1/x)dx = ln|x| + C</div>
                            <p class="formula-desc">The integral of 1/x is the natural logarithm of |x|.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Taylor Series Expansion</h3>
                            <div class="formula-content">f(x) = &Sigma; [f⁽ⁿ⁾(a)/n!] (x-a)ⁿ</div>
                            <p class="formula-desc">Represents a function as an infinite sum of terms around a point 'a'.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">L'Hôpital's Rule</h3>
                            <div class="formula-content">lim f(x)/g(x) = lim f'(x)/g'(x)</div>
                            <p class="formula-desc">Used to evaluate limits of indeterminate forms like 0/0 or &infin;/&infin;.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Average Value of a Function</h3>
                            <div class="formula-content">f_avg = [1/(b-a)] &int;ₐᵇ f(x)dx</div>
                            <p class="formula-desc">Finds the average value of a function over a closed interval [a, b].</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>
                
                <!-- Trigonometry Section -->
                <div class="formula-section" id="trigonometry">
                    <h2>Trigonometry Formulas</h2>
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h3 class="formula-title">Sine Ratio (SOH)</h3>
                            <div class="formula-content">sin &theta; = opposite/hypotenuse</div>
                            <p class="formula-desc">Ratio of the length of the opposite side to the length of the hypotenuse.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Cosine Ratio (CAH)</h3>
                            <div class="formula-content">cos &theta; = adjacent/hypotenuse</div>
                            <p class="formula-desc">Ratio of the length of the adjacent side to the length of the hypotenuse.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Tangent Ratio (TOA)</h3>
                            <div class="formula-content">tan &theta; = opposite/adjacent</div>
                            <p class="formula-desc">Ratio of the length of the opposite side to the length of the adjacent side.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Tangent Identity</h3>
                            <div class="formula-content">tan &theta; = sin &theta; / cos &theta;</div>
                            <p class="formula-desc">Expresses tangent in terms of sine and cosine.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Pythagorean Identity 1</h3>
                            <div class="formula-content">sin&sup2;&theta; + cos&sup2;&theta; = 1</div>
                            <p class="formula-desc">Fundamental Pythagorean identity.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Pythagorean Identity 2</h3>
                            <div class="formula-content">1 + tan&sup2;&theta; = sec&sup2;&theta;</div>
                            <p class="formula-desc">Pythagorean identity involving tangent and secant.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Pythagorean Identity 3</h3>
                            <div class="formula-content">1 + cot&sup2;&theta; = csc&sup2;&theta;</div>
                            <p class="formula-desc">Pythagorean identity involving cotangent and cosecant.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Law of Sines</h3>
                            <div class="formula-content">a/sinA = b/sinB = c/sinC</div>
                            <p class="formula-desc">Relationship between sides and angles of any triangle.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Law of Cosines</h3>
                            <div class="formula-content">c&sup2; = a&sup2; + b&sup2; &minus; 2ab cosC</div>
                            <p class="formula-desc">Generalization of the Pythagorean theorem.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Sine Addition Formula</h3>
                            <div class="formula-content">sin(A+B) = sinA cosB + cosA sinB</div>
                            <p class="formula-desc">Formula for the sine of the sum of two angles.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Cosine Addition Formula</h3>
                            <div class="formula-content">cos(A+B) = cosA cosB &minus; sinA sinB</div>
                            <p class="formula-desc">Formula for the cosine of the sum of two angles.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Double Angle Sine</h3>
                            <div class="formula-content">sin 2&theta; = 2 sin&theta; cos&theta;</div>
                            <p class="formula-desc">Formula for the sine of double an angle.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>

                <!-- Statistics Section -->
                <div class="formula-section" id="statistics" style="display:none;">
                    <h2>Statistics Formulas</h2>
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h3 class="formula-title">Mean (Average)</h3>
                            <div class="formula-content">x&#772; = (&Sigma;x_i) / n</div>
                            <p class="formula-desc">The sum of all values divided by the number of values.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Standard Deviation (Sample)</h3>
                            <div class="formula-content">s = &radic;[&Sigma;(x_i - x&#772;)&sup2; / (n-1)]</div>
                            <p class="formula-desc">Measures the amount of variation or dispersion of a set of values.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Variance (Sample)</h3>
                            <div class="formula-content">s&sup2; = &Sigma;(x_i - x&#772;)&sup2; / (n-1)</div>
                            <p class="formula-desc">The square of the standard deviation.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Z-Score</h3>
                            <div class="formula-content">z = (x - &mu;) / &sigma;</div>
                            <p class="formula-desc">Indicates how many standard deviations an element is from the mean.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Margin of Error</h3>
                            <div class="formula-content">ME = z * (&sigma;/&radic;n)</div>
                            <p class="formula-desc">The range of values below and above the sample statistic in a confidence interval.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Correlation Coefficient (r)</h3>
                            <div class="formula-content">r = [n(&Sigma;xy) - (&Sigma;x)(&Sigma;y)] / &radic;[[n&Sigma;x&sup2; - (&Sigma;x)&sup2;][n&Sigma;y&sup2; - (&Sigma;y)&sup2;]]</div>
                            <p class="formula-desc">Measures the strength and direction of a linear relationship between two variables.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Simple Linear Regression</h3>
                            <div class="formula-content">ŷ = b₀ + b₁x</div>
                            <p class="formula-desc">Models the relationship between two variables by fitting a linear equation.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Median</h3>
                            <div class="formula-content">Middle value of sorted data</div>
                            <p class="formula-desc">The value separating the higher half from the lower half of a data sample.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Mode</h3>
                            <div class="formula-content">Most frequent value</div>
                            <p class="formula-desc">The value that appears most often in a set of data.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">t-Test Statistic</h3>
                            <div class="formula-content">t = (x&#772; - &mu;) / (s/&radic;n)</div>
                            <p class="formula-desc">Used to determine if there is a significant difference between the means of two groups.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Interquartile Range (IQR)</h3>
                            <div class="formula-content">IQR = Q₃ - Q₁</div>
                            <p class="formula-desc">The range between the first and third quartiles, representing the middle 50% of the data.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>
                
                <!-- Probability Section -->
                <div class="formula-section" id="probability" style="display:none;">
                    <h2>Probability Formulas</h2>
                    <div class="formula-grid">
                         <div class="formula-card">
                            <h3 class="formula-title">Basic Probability</h3>
                            <div class="formula-content">P(A) = Favorable / Total</div>
                            <p class="formula-desc">The likelihood of a single event occurring.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Complement Rule</h3>
                            <div class="formula-content">P(A') = 1 - P(A)</div>
                            <p class="formula-desc">The probability of an event not occurring.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Addition Rule</h3>
                            <div class="formula-content">P(A &cup; B) = P(A) + P(B) &minus; P(A &cap; B)</div>
                            <p class="formula-desc">Probability of either of two events occurring.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Conditional Probability</h3>
                            <div class="formula-content">P(A|B) = P(A &cap; B) / P(B)</div>
                            <p class="formula-desc">Probability of event A occurring given that B has occurred.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Multiplication Rule (Independent)</h3>
                            <div class="formula-content">P(A &cap; B) = P(A) &times; P(B)</div>
                            <p class="formula-desc">Probability of two independent events both occurring.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Bayes' Theorem</h3>
                            <div class="formula-content">P(A|B) = [P(B|A)P(A)] / P(B)</div>
                            <p class="formula-desc">Describes the probability of an event based on prior knowledge of conditions.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Permutations</h3>
                            <div class="formula-content">nPr = n! / (n-r)!</div>
                            <p class="formula-desc">Number of ways to arrange r items from a set of n (order matters).</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Combinations</h3>
                            <div class="formula-content">nCr = n! / [r!(n-r)!]</div>
                            <p class="formula-desc">Number of ways to choose r items from n (order doesn't matter).</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Expected Value</h3>
                            <div class="formula-content">E(X) = &Sigma;[x * P(x)]</div>
                            <p class="formula-desc">The long-run average value of a random variable.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                        <div class="formula-card">
                            <h3 class="formula-title">Binomial Probability</h3>
                            <div class="formula-content">P(x) = C(n,x) * p^x * q^(n-x)</div>
                            <p class="formula-desc">Probability of x successes in n trials, where q = 1-p.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                         <div class="formula-card">
                            <h3 class="formula-title">Poisson Distribution</h3>
                            <div class="formula-content">P(X=k) = (&lambda;^k * e^-&lambda;) / k!</div>
                            <p class="formula-desc">Probability of a given number of events occurring in a fixed interval.</p>
                            <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="settings-panel" id="settingsPanel">
            <h2>Background Settings</h2>
            <p>Choose your preferred background:</p>
            <div class="color-options">
                <div class="color-option color1" data-color="linear-gradient(135deg, #0f2027, #203a43, #2c5364)"></div>
                <div class="color-option color2" data-color="linear-gradient(135deg, #a1c4fd, #c2e9fb)"></div>
                <div class="color-option color3" data-color="linear-gradient(135deg, #ffecd2, #fcb69f)"></div>
                <div class="color-option color4" data-color="linear-gradient(135deg, #84fab0, #8fd3f4)"></div>
                <div class="color-option color5" data-color="linear-gradient(135deg, #d4fc79, #96e6a1)"></div>
            </div>
        </div>
    </div>

    <!-- Add Formula Modal -->
    <div class="modal" id="addFormulaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Formula</h2>
                <span class="close">&times;</span>
            </div>
            <form id="formulaForm">
                <div class="form-group">
                    <label for="formulaTitle">Formula Title</label>
                    <input type="text" id="formulaTitle" placeholder="E.g., Quadratic Formula" required>
                </div>
                <div class="form-group">
                    <label for="formulaContent">Formula Expression</label>
                    <textarea id="formulaContent" rows="3" placeholder="Enter the formula expression..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="formulaDesc">Description</label>
                    <textarea id="formulaDesc" rows="3" placeholder="Describe what this formula is used for..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="formulaCategory">Category</label>
                    <select id="formulaCategory" required>
                        <option value="">Select a category</option>
                        <option value="algebra">Algebra</option>
                        <option value="geometry">Geometry</option>
                        <option value="calculus">Calculus</option>
                        <option value="trigonometry">Trigonometry</option>
                        <option value="statistics">Statistics</option>
                        <option value="probability">Probability</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">Add Formula</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const addFormulaBtn = document.getElementById('addFormulaBtn');
            const addFormulaModal = document.getElementById('addFormulaModal');
            const closeModal = document.querySelector('.modal .close');
            const formulaForm = document.getElementById('formulaForm');
            const settingsBtn = document.getElementById('settingsBtn');
            const settingsPanel = document.getElementById('settingsPanel');
            const colorOptions = document.querySelectorAll('.color-option');
            const categoryItems = document.querySelectorAll('.section-list li');
            const formulaSections = document.querySelectorAll('.formula-section');

            const STORAGE_KEY = 'userFormulas';

            // --- Modal Logic ---
            addFormulaBtn.addEventListener('click', () => addFormulaModal.style.display = 'flex');
            closeModal.addEventListener('click', () => addFormulaModal.style.display = 'none');
            window.addEventListener('click', (e) => {
                if (e.target === addFormulaModal) {
                    addFormulaModal.style.display = 'none';
                }
            });

            // --- Settings Panel Logic ---
            settingsBtn.addEventListener('click', () => {
                settingsPanel.style.display = settingsPanel.style.display === 'block' ? 'none' : 'block';
            });
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    document.body.style.background = option.getAttribute('data-color');
                });
            });
            
            // --- Formula Management ---

            /**
             * Gets user-added formulas from localStorage.
             * @returns {Array} An array of formula objects.
             */
            const getSavedFormulas = () => {
                return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            };

            /**
             * Saves an array of formulas to localStorage.
             * @param {Array} formulas - The array of formula objects to save.
             */
            const saveFormulas = (formulas) => {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(formulas));
            };
            
            /**
             * Creates a formula card element and appends it to the correct category.
             * @param {object} formula - The formula object.
             */
            const createFormulaCard = (formula) => {
                const formulaGrid = document.querySelector(`#${formula.category} .formula-grid`);
                if (!formulaGrid) return;

                const card = document.createElement('div');
                card.className = 'formula-card';
                // Add a data-id attribute ONLY for user-added formulas
                if (formula.id) {
                    card.setAttribute('data-id', formula.id);
                }

                card.innerHTML = `
                    <h3 class="formula-title">${formula.title}</h3>
                    <div class="formula-content">${formula.content.replace(/\n/g, '<br>')}</div>
                    <p class="formula-desc">${formula.desc}</p>
                    <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                `;

                formulaGrid.appendChild(card);
                // Attach delete listener to the new card
                card.querySelector('.delete-btn').addEventListener('click', handleDelete);
            };

            /**
             * Handles the form submission to add a new formula.
             * @param {Event} e - The form submit event.
             */
            const handleAddFormula = (e) => {
                e.preventDefault();
                
                const newFormula = {
                    id: Date.now(), // Unique ID for persistence
                    title: document.getElementById('formulaTitle').value,
                    content: document.getElementById('formulaContent').value,
                    desc: document.getElementById('formulaDesc').value,
                    category: document.getElementById('formulaCategory').value,
                };

                if (newFormula.title && newFormula.content && newFormula.desc && newFormula.category) {
                    // Save to localStorage
                    const savedFormulas = getSavedFormulas();
                    savedFormulas.push(newFormula);
                    saveFormulas(savedFormulas);
                    
                    // Add to UI
                    createFormulaCard(newFormula);
                    
                    formulaForm.reset();
                    addFormulaModal.style.display = 'none';
                }
            };
            
            /**
             * Handles the click event for deleting a formula card.
             * @param {Event} e - The button click event.
             */
            const handleDelete = (e) => {
                 if (!confirm('Are you sure you want to delete this formula?')) return;
                 
                const card = e.target.closest('.formula-card');
                const formulaId = card.getAttribute('data-id');

                // If it's a user-added formula, remove it from localStorage
                if (formulaId) {
                    let savedFormulas = getSavedFormulas();
                    savedFormulas = savedFormulas.filter(f => f.id !== parseInt(formulaId));
                    saveFormulas(savedFormulas);
                }
                
                // Remove the card from the DOM
                card.remove();
            };

            // --- Initial Page Setup ---

            // Load user-added formulas from localStorage on page load
            const loadUserFormulas = () => {
                const savedFormulas = getSavedFormulas();
                savedFormulas.forEach(createFormulaCard);
            };

            // Attach delete listeners to the pre-existing (hardcoded) formulas
            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', handleDelete);
            });

            // --- Event Listeners ---
            formulaForm.addEventListener('submit', handleAddFormula);

            categoryItems.forEach(item => {
                item.addEventListener('click', () => {
                    categoryItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                    
                    const category = item.getAttribute('data-category');
                    
                    formulaSections.forEach(section => {
                        section.style.display = section.id === category ? 'block' : 'none';
                    });
                });
            });
            
            // --- Initial Load Execution ---
            loadUserFormulas();
        });
    </script>
</body>
</html>
