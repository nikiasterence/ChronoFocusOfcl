<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moodly AI - Your Personal Mood Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: rgba(106, 130, 251, 0.8);
            --secondary-color: rgba(167, 119, 227, 0.8);
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
            --text-light: rgba(255, 255, 255, 0.9);
            --text-dark: #333;
        }
        
        body {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            overflow: hidden;
            margin: 20px 0;
        }
        
        header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .logo {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .logo i {
            margin-right: 15px;
            font-size: 3rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
        }
        
        .main-content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            display: none;
        }
        
        .active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        h2 {
            color: var(--text-light);
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .section p {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .mood-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .mood-option {
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .mood-option:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.25);
        }
        
        .mood-option i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .advice-box {
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
            display: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .advice-box.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .advice-title {
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 15px;
            font-size: 1.4rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .advice-content {
            line-height: 1.7;
            white-space: pre-line;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background: rgba(90, 103, 216, 0.7);
            color: white;
        }
        
        .btn-primary:hover {
            background: rgba(76, 81, 191, 0.8);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-light);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn-success {
            background: rgba(72, 187, 120, 0.7);
            color: white;
        }
        
        .btn-success:hover {
            background: rgba(56, 161, 105, 0.8);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .chat-container {
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 16px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .user-message {
            background: rgba(90, 103, 216, 0.7);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-light);
            border-bottom-left-radius: 5px;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 14px 18px;
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            font-size: 1rem;
            color: var(--text-light);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .chat-input input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .chat-input button {
            padding: 14px 20px;
            background: rgba(90, 103, 216, 0.7);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .chat-input button:hover {
            background: rgba(76, 81, 191, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
        }
        
        .exercise-list {
            display: grid;
            gap: 20px;
        }
        
        .exercise-item {
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .exercise-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.25);
        }
        
        .exercise-title {
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 1.2rem;
        }
        
        .exercise-title i {
            margin-right: 12px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .exercise-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @media (max-width: 768px) {
            .mood-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-buttons .btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .mood-options {
                grid-template-columns: 1fr;
            }
            
            .logo {
                font-size: 2.2rem;
            }
            
            .logo i {
                font-size: 2.5rem;
            }
            
            .main-content {
                padding: 20px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container floating">
        <header>
            <div class="logo">
                <i class="fas fa-brain"></i>
                Moodly AI
            </div>
            <div class="tagline">Your personal AI mood assistant</div>
        </header>
        
        <div class="main-content">
            <!-- Mood Selection Section -->
            <div id="mood-selection" class="section active">
                <h2>How are you feeling today?</h2>
                <p>Select your current mood to get personalized advice:</p>
                
                <div class="mood-options">
                    <div class="mood-option" data-mood="happy">
                        <i class="fas fa-laugh-beam"></i>
                        <span>Happy</span>
                    </div>
                    <div class="mood-option" data-mood="sad">
                        <i class="fas fa-sad-tear"></i>
                        <span>Sad</span>
                    </div>
                    <div class="mood-option" data-mood="anxious">
                        <i class="fas fa-flushed"></i>
                        <span>Anxious</span>
                    </div>
                    <div class="mood-option" data-mood="angry">
                        <i class="fas fa-angry"></i>
                        <span>Angry</span>
                    </div>
                    <div class="mood-option" data-mood="stressed">
                        <i class="fas fa-tired"></i>
                        <span>Stressed</span>
                    </div>
                    <div class="mood-option" data-mood="tired">
                        <i class="fas fa-bed"></i>
                        <span>Tired</span>
                    </div>
                </div>
            </div>
            
            <!-- Advice Section -->
            <div id="advice-section" class="section">
                <h2>Here's how to feel better</h2>
                
                <div id="advice-box" class="advice-box">
                    <div class="advice-title" id="advice-title">Advice for your mood</div>
                    <div id="advice-content" class="advice-content">Advice will appear here based on your selected mood.</div>
                    
                    <div class="action-buttons">
                        <button id="feeling-better" class="btn btn-success">
                            <i class="fas fa-check"></i> I'm feeling better
                        </button>
                        <button id="still-feel-bad" class="btn btn-secondary">
                            <i class="fas fa-comments"></i> I still feel bad
                        </button>
                        <button id="use-mental-exercise" class="btn btn-primary">
                            <i class="fas fa-brain"></i> Use Mental Exercise
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Chat Section -->
            <div id="chat-section" class="section">
                <h2>Chat with Moodly AI</h2>
                <p>Tell me more about how you're feeling. I'm here to listen and help.</p>
                
                <div class="chat-container" id="chat-container">
                    <div class="message ai-message">
                        Hi there! I'm Moodly AI. I'm here to help you feel better. How can I assist you today?
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="user-input" placeholder="Type your message here...">
                    <button id="send-message"><i class="fas fa-paper-plane"></i> Send</button>
                </div>
                
                <div class="nav-buttons">
                    <button id="back-to-advice" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Advice
                    </button>
                    <button id="open-miniapp" class="btn btn-primary">
                        <i class="fas fa-external-link-alt"></i> Open Full Moodly AI
                    </button>
                </div>
            </div>
            
            <!-- Mental Exercises Section -->
            <div id="exercises-section" class="section">
                <h2>Mental Exercises to Improve Your Mood</h2>
                <p>Try these exercises to help regulate your emotions and feel better:</p>
                
                <div class="exercise-list">
                    <div class="exercise-item" data-exercise="breathing">
                        <div class="exercise-title">
                            <i class="fas fa-wind"></i>
                            Deep Breathing
                        </div>
                        <div class="exercise-desc">
                            A simple breathing technique to calm your nervous system and reduce stress.
                        </div>
                    </div>
                    <div class="exercise-item" data-exercise="gratitude">
                        <div class="exercise-title">
                            <i class="fas fa-heart"></i>
                            Gratitude Journaling
                        </div>
                        <div class="exercise-desc">
                            Write down three things you're grateful for to shift your focus to positive aspects.
                        </div>
                    </div>
                    <div class="exercise-item" data-exercise="mindfulness">
                        <div class="exercise-title">
                            <i class="fas fa-leaf"></i>
                            5-4-3-2-1 Grounding
                        </div>
                        <div class="exercise-desc">
                            Notice 5 things you see, 4 things you feel, 3 things you hear, 2 things you smell, and 1 thing you taste.
                        </div>
                    </div>
                    <div class="exercise-item" data-exercise="visualization">
                        <div class="exercise-title">
                            <i class="fas fa-mountain"></i>
                            Positive Visualization
                        </div>
                        <div class="exercise-desc">
                            Imagine yourself in a peaceful, happy place to calm your mind and reduce anxiety.
                        </div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button id="back-to-advice-from-exercises" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Advice
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Moodly AI by CozyTuStudios | Your mental wellbeing matters</p>
    </footer>

    <script>
        // Mood data with advice
        const moodData = {
            happy: {
                title: "You're feeling happy!",
                advice: "That's wonderful! To maintain this positive mood:\n\n• Share your happiness with others\n• Engage in activities you enjoy\n• Practice gratitude for what's making you happy\n• Consider doing something kind for someone else"
            },
            sad: {
                title: "You're feeling sad",
                advice: "I'm sorry you're feeling this way. Here are some suggestions:\n\n• Talk to someone you trust about how you feel\n• Engage in a comforting activity like listening to music\n• Practice self-compassion - it's okay to feel sad sometimes\n• Consider going for a gentle walk in nature"
            },
            anxious: {
                title: "You're feeling anxious",
                advice: "Anxiety can be challenging. Try these techniques:\n\n• Practice deep breathing (inhale for 4 counts, hold for 4, exhale for 6)\n• Challenge anxious thoughts by asking if they're realistic\n• Focus on what you can control right now\n• Try a grounding exercise to reconnect with the present"
            },
            angry: {
                title: "You're feeling angry",
                advice: "Anger is a normal emotion. Here's how to manage it:\n\n• Take a timeout - step away from the situation\n• Express your feelings using 'I' statements\n• Channel the energy into physical activity\n• Practice relaxation techniques like progressive muscle relaxation"
            },
            stressed: {
                title: "You're feeling stressed",
                advice: "Stress can feel overwhelming. Try these strategies:\n\n• Break tasks into smaller, manageable steps\n• Prioritize what needs your attention right now\n• Practice mindfulness to stay present\n• Make sure you're taking breaks and staying hydrated"
            },
            tired: {
                title: "You're feeling tired",
                advice: "When you're feeling exhausted:\n\n• Listen to your body and rest if possible\n• Stay hydrated and eat nourishing foods\n• Try a short, gentle walk to boost energy\n• Consider if you need to adjust your sleep routine"
            }
        };
        
        // Exercise instructions
        const exerciseData = {
            breathing: {
                title: "Deep Breathing Exercise",
                steps: [
                    "Find a comfortable seated position or lie down",
                    "Place one hand on your chest and the other on your belly",
                    "Take a slow, deep breath in through your nose for 4 seconds",
                    "Feel your belly expand as you breathe in",
                    "Hold your breath for 4 seconds",
                    "Slowly exhale through your mouth for 6 seconds",
                    "Repeat this cycle 5-10 times"
                ]
            },
            gratitude: {
                title: "Gratitude Journaling",
                steps: [
                    "Take out a notebook or open a notes app",
                    "Write down three things you're grateful for today",
                    "Be specific - instead of 'my family', try 'the supportive conversation I had with my sister'",
                    "Reflect on why each thing makes you grateful",
                    "Notice how you feel after completing this exercise"
                ]
            },
            mindfulness: {
                title: "5-4-3-2-1 Grounding Technique",
                steps: [
                    "Look around and name 5 things you can see",
                    "Notice 4 things you can feel (your feet on the floor, the texture of your clothes)",
                    "Listen for 3 things you can hear (distant traffic, a clock ticking)",
                    "Identify 2 things you can smell (or 2 smells you like)",
                    "Name 1 thing you can taste (or your favorite taste)"
                ]
            },
            visualization: {
                title: "Positive Visualization",
                steps: [
                    "Close your eyes and take a few deep breaths",
                    "Imagine a place where you feel completely safe and peaceful",
                    "Engage all your senses - what do you see, hear, smell, and feel there?",
                    "Spend a few minutes exploring this place in your mind",
                    "When you're ready, slowly bring your awareness back to the present"
                ]
            }
        };
        
        // DOM Elements
        const moodSelectionSection = document.getElementById('mood-selection');
        const adviceSection = document.getElementById('advice-section');
        const chatSection = document.getElementById('chat-section');
        const exercisesSection = document.getElementById('exercises-section');
        
        const moodOptions = document.querySelectorAll('.mood-option');
        const adviceBox = document.getElementById('advice-box');
        const adviceTitle = document.getElementById('advice-title');
        const adviceContent = document.getElementById('advice-content');
        
        const feelingBetterBtn = document.getElementById('feeling-better');
        const stillFeelBadBtn = document.getElementById('still-feel-bad');
        const useMentalExerciseBtn = document.getElementById('use-mental-exercise');
        
        const backToAdviceBtn = document.getElementById('back-to-advice');
        const openMiniappBtn = document.getElementById('open-miniapp');
        const backToAdviceFromExercisesBtn = document.getElementById('back-to-advice-from-exercises');
        
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendMessageBtn = document.getElementById('send-message');
        
        const exerciseItems = document.querySelectorAll('.exercise-item');
        
        // Current selected mood
        let currentMood = null;
        
        // Event Listeners
        moodOptions.forEach(option => {
            option.addEventListener('click', function() {
                currentMood = this.getAttribute('data-mood');
                showAdvice(currentMood);
            });
        });
        
        feelingBetterBtn.addEventListener('click', function() {
            alert("That's great to hear! Remember you can always come back if you need more support.");
            resetToMoodSelection();
        });
        
        stillFeelBadBtn.addEventListener('click', function() {
            showSection(chatSection);
        });
        
        useMentalExerciseBtn.addEventListener('click', function() {
            showSection(exercisesSection);
        });
        
        backToAdviceBtn.addEventListener('click', function() {
            showSection(adviceSection);
        });
        
        backToAdviceFromExercisesBtn.addEventListener('click', function() {
            showSection(adviceSection);
        });
        
        openMiniappBtn.addEventListener('click', function() {
            window.open('https://miniapps.ai/moodly-ai-by-cozytustudios/', '_blank');
        });
        
        sendMessageBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        exerciseItems.forEach(item => {
            item.addEventListener('click', function() {
                const exercise = this.getAttribute('data-exercise');
                showExerciseInstructions(exercise);
            });
        });
        
        // Functions
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(sec => {
                sec.classList.remove('active');
            });
            
            // Show the selected section
            section.classList.add('active');
        }
        
        function showAdvice(mood) {
            if (moodData[mood]) {
                adviceTitle.textContent = moodData[mood].title;
                adviceContent.textContent = moodData[mood].advice;
                adviceBox.classList.add('active');
                
                showSection(adviceSection);
            }
        }
        
        function resetToMoodSelection() {
            showSection(moodSelectionSection);
            adviceBox.classList.remove('active');
            currentMood = null;
        }
        
        function sendMessage() {
            const message = userInput.value.trim();
            if (message === '') return;
            
            // Add user message to chat
            addMessageToChat(message, 'user');
            
            // Clear input
            userInput.value = '';
            
            // Generate AI response after a short delay
            setTimeout(() => {
                const aiResponse = generateAIResponse(message);
                addMessageToChat(aiResponse, 'ai');
            }, 1000);
        }
        
        function addMessageToChat(message, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
            messageElement.textContent = message;
            
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        function generateAIResponse(userMessage) {
            const responses = [
                "I understand how you're feeling. Can you tell me more about what's bothering you?",
                "Thank you for sharing that with me. It sounds like you're going through a difficult time.",
                "I'm here to listen. What else is on your mind?",
                "That sounds challenging. Have you tried any of the exercises we discussed?",
                "I appreciate you opening up about this. Remember that it's okay to feel this way sometimes.",
                "Let's work through this together. What's one small thing that might help right now?",
                "Your feelings are valid. Would you like to try a different approach to feel better?",
                "I hear you. Sometimes just talking about our feelings can make them feel more manageable."
            ];
            
            // Simple keyword matching for more relevant responses
            if (userMessage.toLowerCase().includes('anxious') || userMessage.toLowerCase().includes('worry')) {
                return "Anxiety can feel overwhelming. Have you tried the deep breathing exercise? It can help calm your nervous system.";
            } else if (userMessage.toLowerCase().includes('sad') || userMessage.toLowerCase().includes('down')) {
                return "I'm sorry you're feeling this way. Remember that emotions come and go, and it's okay to not feel okay sometimes.";
            } else if (userMessage.toLowerCase().includes('angry') || userMessage.toLowerCase().includes('mad')) {
                return "Anger is a powerful emotion. Sometimes taking a break and returning to the situation later can help.";
            } else if (userMessage.toLowerCase().includes('tired') || userMessage.toLowerCase().includes('exhausted')) {
                return "It sounds like you could use some rest. Remember that self-care isn't selfish - it's necessary.";
            }
            
            // Return a random response if no keywords match
            return responses[Math.floor(Math.random() * responses.length)];
        }
        
        function showExerciseInstructions(exercise) {
            if (exerciseData[exercise]) {
                let instructionsHTML = `<h3 style="color: var(--text-light); margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">${exerciseData[exercise].title}</h3>`;
                instructionsHTML += '<ol style="color: var(--text-light); line-height: 1.7; margin-left: 20px;">';
                
                exerciseData[exercise].steps.forEach(step => {
                    instructionsHTML += `<li style="margin-bottom: 10px;">${step}</li>`;
                });
                
                instructionsHTML += '</ol>';
                instructionsHTML += '<p style="color: var(--text-light); margin-top: 20px; font-style: italic;">Take your time with this exercise. There\'s no rush.</p>';
                
                // Create modal for exercise instructions
                const modal = document.createElement('div');
                modal.style.position = 'fixed';
                modal.style.top = '0';
                modal.style.left = '0';
                modal.style.width = '100%';
                modal.style.height = '100%';
                modal.style.backgroundColor = 'rgba(0,0,0,0.7)';
                modal.style.display = 'flex';
                modal.style.justifyContent = 'center';
                modal.style.alignItems = 'center';
                modal.style.zIndex = '1000';
                
                const modalContent = document.createElement('div');
                modalContent.style.backgroundColor = 'rgba(106, 130, 251, 0.9)';
                modalContent.style.backdropFilter = 'blur(10px)';
                modalContent.style.webkitBackdropFilter = 'blur(10px)';
                modalContent.style.border = '1px solid rgba(255, 255, 255, 0.2)';
                modalContent.style.padding = '30px';
                modalContent.style.borderRadius = '16px';
                modalContent.style.maxWidth = '500px';
                modalContent.style.width = '90%';
                modalContent.style.maxHeight = '80%';
                modalContent.style.overflowY = 'auto';
                modalContent.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.3)';
                modalContent.innerHTML = instructionsHTML;
                
                const closeButton = document.createElement('button');
                closeButton.textContent = 'Close';
                closeButton.classList.add('btn', 'btn-primary');
                closeButton.style.marginTop = '20px';
                closeButton.addEventListener('click', function() {
                    document.body.removeChild(modal);
                });
                
                modalContent.appendChild(closeButton);
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                // Close modal when clicking outside
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        document.body.removeChild(modal);
                    }
                });
            }
        }
    </script>
</body>
</html>
