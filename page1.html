<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glass Focus - Productivity App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #b7d4ff 0%, #e4e5e6 100%);
      color: #333;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
      position: relative;
    }
    
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 10% 20%, rgba(255, 185, 185, 0.8) 0%, transparent 20%),
                  radial-gradient(circle at 90% 80%, rgba(166, 148, 255, 0.6) 0%, transparent 20%);
      pointer-events: none;
      z-index: -1;
    }
    
    .app {
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.6);
      position: relative;
      overflow: hidden;
    }
    
    .app::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(to bottom right, 
                  rgba(255, 255, 255, 0.4), 
                  rgba(255, 255, 255, 0.2), 
                  transparent);
      transform: rotate(30deg);
      pointer-events: none;
      z-index: -1;
    }
    
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    h1 {
      color: #2c3e50;
      font-size: 2.8rem;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      position: relative;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 100px;
      height: 3px;
      background: linear-gradient(to right, rgba(108, 92, 231, 0.5), rgba(0, 206, 201, 0.5));
      border-radius: 2px;
    }
    
    .header-buttons {
      display: flex;
      gap: 15px;
    }
    
    .big-button {
      padding: 16px 28px;
      background: rgba(255, 255, 255, 0.6);
      color: #2c3e50;
      border: 1px solid rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      backdrop-filter: blur(10px);
    }
    
    .big-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.8);
    }
    
    .big-button:active {
      transform: translateY(0);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }
    
    .task-box {
      display: flex;
      gap: 12px;
      margin-bottom: 25px;
      position: relative;
      z-index: 1;
    }
    
    input[type="text"], input[type="number"] {
      flex: 1;
      padding: 18px 22px;
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      font-size: 1.05rem;
      color: #2c3e50;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      backdrop-filter: blur(10px);
    }
    
    input::placeholder {
      color: rgba(44, 62, 80, 0.5);
    }
    
    input:focus {
      border-color: rgba(108, 92, 231, 0.4);
      outline: none;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    
    button {
      padding: 18px 28px;
      background: rgba(255, 255, 255, 0.6);
      color: #2c3e50;
      border: 1px solid rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
      gap: 8px;
      backdrop-filter: blur(10px);
    }
    
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.8);
    }
    
    button:active {
      transform: translateY(0);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    }
    
    #taskList {
      list-style-type: none;
      margin-bottom: 35px;
    }
    
    #taskList li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(15px);
      border-radius: 16px;
      margin-bottom: 15px;
      border: 1px solid rgba(255, 255, 255, 0.7);
      transition: all 0.3s ease;
      animation: fadeIn 0.5s ease-out;
      position: relative;
      overflow: hidden;
    }
    
    #taskList li::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, rgba(108, 92, 231, 0.5), rgba(0, 206, 201, 0.5));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    #taskList li:hover {
      background: rgba(255, 255, 255, 0.6);
      transform: translateX(5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    }
    
    #taskList li:hover::before {
      opacity: 1;
    }
    
    .task-text {
      flex: 1;
      margin-right: 15px;
      position: relative;
      transition: all 0.3s ease;
      font-size: 1.1rem;
      color: #2c3e50;
    }
    
    .completed .task-text {
      text-decoration: line-through;
      opacity: 0.6;
    }
    
    .task-actions {
      display: flex;
      gap: 10px;
    }
    
    .task-actions button {
      padding: 12px 20px;
      font-size: 0.9rem;
      border-radius: 12px;
    }
    
    .complete-btn {
      background: rgba(0, 184, 148, 0.2);
      border: 1px solid rgba(0, 184, 148, 0.3);
    }
    
    .delete-btn {
      background: rgba(255, 118, 117, 0.2);
      border: 1px solid rgba(255, 118, 117, 0.3);
    }
    
    .timer {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
      margin-bottom: 35px;
    }
    
    .timer > div {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(15px);
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.7);
      transition: transform 0.3s ease;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    }
    
    .timer > div:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.08);
    }
    
    .timer h2 {
      margin-bottom: 20px;
      color: #2c3e50;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .timer-input {
      margin-bottom: 20px;
    }
    
    .timer-input input {
      width: 100%;
      max-width: 200px;
      text-align: center;
    }
    
    .timer p {
      font-size: 2.8rem;
      font-weight: bold;
      color: #6c5ce7;
      margin-top: 20px;
      text-shadow: 0 2px 10px rgba(108, 92, 231, 0.2);
      font-family: 'Courier New', monospace;
    }
    
    /* AI Study Help Section */
    .ai-help-section {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 20px;
      margin-top: 30px;
      text-align: center;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.7);
      overflow: hidden;
      margin-bottom: 30px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    }
    
    .ai-help-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.3) 100%);
      pointer-events: none;
      z-index: -1;
    }
    
    .ai-help-section h2 {
      color: #2c3e50;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      font-size: 1.6rem;
    }
    
    .ai-icon {
      width: 36px;
      height: 36px;
      color: #6c5ce7;
    }
    
    .ai-help-card {
      display: block;
      background: rgba(255, 255, 255, 0.5);
      color: #2c3e50;
      text-decoration: none;
      padding: 25px;
      border-radius: 16px;
      margin-top: 20px;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
    }
    
    .ai-help-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent 0%, rgba(255, 255, 255, 0.4) 100%);
      pointer-events: none;
      z-index: -1;
    }
    
    .ai-help-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.7);
    }
    
    .ai-help-card h3 {
      margin-bottom: 15px;
      font-size: 1.5rem;
      color: #2c3e50;
    }
    
    .ai-help-card p {
      font-size: 1.1rem;
      opacity: 0.8;
      margin-bottom: 20px;
      color: #2c3e50;
    }
    
    .ai-arrow {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      opacity: 0.8;
      color: #6c5ce7;
    }
    
    /* Music Section */
    .music-section {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 20px;
      margin-top: 30px;
      text-align: center;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.7);
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    }
    
    .music-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.3) 100%);
      pointer-events: none;
      z-index: -1;
    }
    
    .music-section h2 {
      color: #2c3e50;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      font-size: 1.6rem;
    }
    
    .spotify-logo {
      width: 36px;
      height: 36px;
      color: #6c5ce7;
    }
    
    .playlist-card {
      display: block;
      background: rgba(255, 255, 255, 0.5);
      color: #2c3e50;
      text-decoration: none;
      padding: 25px;
      border-radius: 16px;
      margin-top: 20px;
      transition: all 0.3s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
    }
    
    .playlist-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent 0%, rgba(255, 255, 255, 0.4) 100%);
      pointer-events: none;
      z-index: -1;
    }
    
    .playlist-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.7);
    }
    
    .playlist-card h3 {
      margin-bottom: 15px;
      font-size: 1.5rem;
      color: #2c3e50;
    }
    
    .playlist-card p {
      font-size: 1.1rem;
      opacity: 0.8;
      margin-bottom: 20px;
      color: #2c3e50;
    }
    
    .spotify-icon {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      opacity: 0.8;
      color: #6c5ce7;
    }
    
    /* Progress bar for timers */
    .progress-container {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 4px;
      margin-top: 20px;
      overflow: hidden;
      box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(to right, rgba(108, 92, 231, 0.5), rgba(0, 206, 201, 0.5));
      border-radius: 4px;
      width: 0%;
      transition: width 1s linear;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.4); }
      70% { box-shadow: 0 0 0 15px rgba(108, 92, 231, 0); }
      100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .timer {
        grid-template-columns: 1fr;
      }
      
      .task-box {
        flex-direction: column;
      }
      
      .app {
        padding: 20px;
      }
      
      h1 {
        font-size: 2.2rem;
      }
      
      .header {
        flex-direction: column;
        align-items: stretch;
      }
      
      .header-buttons {
        flex-direction: column;
      }
    }
    
    /* Water bubble effects */
    .bubble {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
      pointer-events: none;
      z-index: -2;
    }
    
    /* Notification toast */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 18px 28px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      color: #2c3e50;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.7);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.5s ease;
      z-index: 1000;
      font-weight: 600;
    }
    
    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Animated bubbles -->
  <div class="bubbles"></div>
  
  <div class="app">
    <div class="header">
      <h1><i class="fas fa-brain"></i> Glass Focus</h1>
      <div class="header-buttons">
        <a href="page2.html" class="big-button">
          <i class="fas fa-graduation-cap"></i> Study Materials
        </a>
        <a href="page10.html" class="big-button">
          <i class="fas fa-dharmachakra"></i> Deep Focus
        </a>
      </div>
    </div>
    
    <!-- Task Input -->
    <div class="task-box">
      <input id="taskInput" type="text" placeholder="Enter a new task..." />
      <button onclick="addTask()"><i class="fas fa-plus"></i> Add Task</button>
    </div>
    
    <ul id="taskList"></ul>

    <!-- Timer Box -->
    <div class="timer">
      <div>
        <h2><i class="fas fa-hourglass-start"></i> Focus Timer</h2>
        <div class="timer-input">
          <input id="focusInput" type="number" placeholder="Minutes" min="1" max="120" />
        </div>
        <button onclick="startFocus()"><i class="fas fa-play"></i> Start Focus</button>
        <p id="focusTime">25:00</p>
        <div class="progress-container">
          <div id="focusProgress" class="progress-bar"></div>
        </div>
      </div>

      <div>
        <h2><i class="fas fa-couch"></i> Rest Timer</h2>
        <div class="timer-input">
          <input id="restInput" type="number" placeholder="Minutes" min="1" max="30" />
        </div>
        <button onclick="startRest()"><i class="fas fa-play"></i> Start Rest</button>
        <p id="restTime">05:00</p>
        <div class="progress-container">
          <div id="restProgress" class="progress-bar"></div>
        </div>
      </div>
    </div>

    <!-- AI Study Help Section -->
    <div class="ai-help-section">
      <h2>
        <i class="fas fa-robot ai-icon"></i>
        AI Study Help
      </h2>
      <p>Get personalized assistance with your study tasks from AI</p>
      <a href="https://talk.shapes.inc/chat/new?with=optichain" target="_blank" class="ai-help-card">
        <h3><i class="fas fa-brain"></i> OptiChain AI Assistant</h3>
        <p>Get help with difficult concepts, explanations, and study strategies</p>
        <i class="fas fa-arrow-right ai-arrow"></i>
      </a>
    </div>

    <!-- Spotify Music Section -->
    <div class="music-section">
      <h2>
        <svg class="spotify-logo" viewBox="0 0 167.5 167.5" xmlns="http://www.w3.org/2000/svg">
          <path fill="#6c5ce7" d="M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zm38.3 120.6c-1.5 2.5-4.7 3.2-7.2 1.7-19.8-12.1-44.7-14.8-74.2-8.1-2.8.5-5.5-1.2-6-4-.5-2.8 1.2-5.5 4-6 31.9-7.3 59.2-4.1 81.3 9.3 2.5 1.5 3.2 4.7 1.7 7.2zm10-25.8c-2 3-6.1 4-9.1 2-22.6-13.9-57.1-17.9-83.8-9.8-3.4 1-7.1-.9-8.1-4.3s.9-7.1 4.3-8.1c30.4-9.2 68.2-4.8 94.5 11.2 3 2 4 6.1 2 9.1zm.8-27.2c-27-16-71.5-17.5-97.3-9.7-4 1.3-8.2-1.1-9.5-5.1s1.1-8.2 5.1-9.5c29.6-9 78.1-7.3 109.5 11.2 3.7 2.2 5 7 2.8 10.7s-7 5-10.7 2.8z"/>
        </svg>
        Focus Music
      </h2>
      <p>Enhance your productivity with curated focus music</p>
      <a href="https://open.spotify.com/playlist/2YC8NnwfXuNJxZMDdIehkK?si=919bc10f28d84e60" target="_blank" class="playlist-card">
        <h3><i class="fab fa-spotify"></i> Productivity Playlist</h3>
        <p>Curated focus music to help you concentrate</p>
        <svg class="spotify-icon" viewBox="0 0 167.5 167.5" xmlns="http://www.w3.org/2000/svg">
          <path fill="#6c5ce7" d="M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zm38.3 120.6c-1.5 2.5-4.7 3.2-7.2 1.7-19.8-12.1-44.7-14.8-74.2-8.1-2.8.5-5.5-1.2-6-4-.5-2.8 1.2-5.5 4-6 31.9-7.3 59.2-4.1 81.3 9.3 2.5 1.5 3.2 4.7 1.7 7.2zm10-25.8c-2 3-6.1 4-9.1 2-22.6-13.9-57.1-17.9-83.8-9.8-3.4 1-7.1-.9-8.1-4.3s.9-7.1 4.3-8.1c30.4-9.2 68.2-4.8 94.5 11.2 3 2 4 6.1 2 9.1zm.8-27.2c-27-16-71.5-17.5-97.3-9.7-4 1.3-8.2-1.1-9.5-5.1s1.1-8.2 5.1-9.5c29.6-9 78.1-7.3 109.5 11.2 3.7 2.2 5 7 2.8 10.7s-7 5-10.7 2.8z"/>
        </svg>
      </a>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <script>
    // Create animated bubbles in background
    function createBubbles() {
      const bubblesContainer = document.querySelector('.bubbles');
      const bubblesCount = 15;
      
      for (let i = 0; i < bubblesCount; i++) {
        const bubble = document.createElement('div');
        bubble.classList.add('bubble');
        
        // Random size and position
        const size = Math.random() * 100 + 20;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        
        bubble.style.width = `${size}px`;
        bubble.style.height = `${size}px`;
        bubble.style.left = `${posX}%`;
        bubble.style.top = `${posY}%`;
        
        // Animation
        bubble.style.animation = `
          float ${Math.random() * 15 + 10}s infinite ease-in-out,
          fade ${Math.random() * 10 + 10}s infinite ease-in-out
        `;
        bubble.style.animationDelay = `${Math.random() * 5}s`;
        
        bubblesContainer.appendChild(bubble);
      }
    }
    
    // Show toast notification
    function showToast(message, duration = 3000) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, duration);
    }
    
    // Basic task functionality
    function addTask() {
      const taskInput = document.getElementById('taskInput');
      const taskText = taskInput.value.trim();
      
      if (taskText === '') {
        taskInput.focus();
        showToast('Please enter a task!');
        return;
      }
      
      const taskList = document.getElementById('taskList');
      const li = document.createElement('li');
      
      li.innerHTML = `
        <div class="task-text">${taskText}</div>
        <div class="task-actions">
          <button class="complete-btn" onclick="completeTask(this)"><i class="fas fa-check"></i> Done</button>
          <button class="delete-btn" onclick="deleteTask(this)"><i class="fas fa-trash"></i> Delete</button>
        </div>
      `;
      
      taskList.appendChild(li);
      taskInput.value = '';
      taskInput.focus();
      
      showToast('Task added successfully!');
    }
    
    function completeTask(button) {
      const li = button.parentElement.parentElement;
      li.classList.add('completed');
      button.disabled = true;
      button.innerHTML = '<i class="fas fa-check"></i> Completed';
      
      showToast('Task completed! Great job!');
    }
    
    function deleteTask(button) {
      const li = button.parentElement.parentElement;
      li.style.opacity = '0';
      li.style.transform = 'translateX(50px)';
      
      setTimeout(() => {
        li.remove();
        showToast('Task deleted');
      }, 500);
    }
    
    // Timer functionality
    let focusInterval, restInterval;
    let focusSeconds = 25 * 60, restSeconds = 5 * 60;
    let focusTotal = 25 * 60, restTotal = 5 * 60;
    
    // Original timer functions
    function startFocus() {
      const minutes = parseInt(document.getElementById('focusInput').value) || 25;
      if (minutes <= 0) return;
      
      clearInterval(focusInterval);
      focusSeconds = minutes * 60;
      focusTotal = minutes * 60;
      updateFocusTime();
      updateProgress('focusProgress', 0);
      
      focusInterval = setInterval(() => {
        focusSeconds--;
        updateFocusTime();
        
        // Update progress bar
        const progress = ((focusTotal - focusSeconds) / focusTotal) * 100;
        updateProgress('focusProgress', progress);
        
        if (focusSeconds <= 0) {
          clearInterval(focusInterval);
          showToast('Focus time completed! 🎉 Time for a break!');
          document.getElementById('focusProgress').style.width = '100%';
          
          // Pulse animation for completion
          const focusTimer = document.querySelector('.timer > div:first-child');
          focusTimer.classList.add('pulse');
          setTimeout(() => focusTimer.classList.remove('pulse'), 4000);
        }
      }, 1000);
    }
    
    function startRest() {
      const minutes = parseInt(document.getElementById('restInput').value) || 5;
      if (minutes <= 0) return;
      
      clearInterval(restInterval);
      restSeconds = minutes * 60;
      restTotal = minutes * 60;
      updateRestTime();
      updateProgress('restProgress', 0);
      
      restInterval = setInterval(() => {
        restSeconds--;
        updateRestTime();
        
        // Update progress bar
        const progress = ((restTotal - restSeconds) / restTotal) * 100;
        updateProgress('restProgress', progress);
        
        if (restSeconds <= 0) {
          clearInterval(restInterval);
          showToast('Rest time completed! ⏰ Back to work!');
          document.getElementById('restProgress').style.width = '100%';
          
          // Pulse animation for completion
          const restTimer = document.querySelector('.timer > div:last-child');
          restTimer.classList.add('pulse');
          setTimeout(() => restTimer.classList.remove('pulse'), 4000);
        }
      }, 1000);
    }
    
    function updateFocusTime() {
      const minutes = Math.floor(focusSeconds / 60);
      const seconds = focusSeconds % 60;
      document.getElementById('focusTime').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }
    
    function updateRestTime() {
      const minutes = Math.floor(restSeconds / 60);
      const seconds = restSeconds % 60;
      document.getElementById('restTime').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }
    
    function updateProgress(elementId, percentage) {
      document.getElementById(elementId).style.width = `${percentage}%`;
    }
    
    // Allow adding task with Enter key
    document.getElementById('taskInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        addTask();
      }
    });
    
    // Initialize the app
       window.onload = function() {
      createBubbles();
      
      // Add some example tasks
      const exampleTasks = [
        "Create a new project",
        "Review weekly goals",
        "Read for 30 minutes"
      ];
      
      exampleTasks.forEach(task => {
        const taskList = document.getElementById('taskList');
        const li = document.createElement('li');
        
        li.innerHTML = `
          <div class="task-text">${task}</div>
          <div class="task-actions">
            <button class="complete-btn" onclick="completeTask(this)"><i class="fas fa-check"></i> Done</button>
            <button class="delete-btn" onclick="deleteTask(this)"><i class="fas fa-trash"></i> Delete</button>
          </div>
        `;
        
        taskList.appendChild(li);
      });
    };
  </script>
</body>
</html>
